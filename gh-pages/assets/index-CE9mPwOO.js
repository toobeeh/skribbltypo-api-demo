var De=Object.defineProperty;var Re=(t,e,n)=>e in t?De(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var S=(t,e,n)=>Re(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function f(){}function Ce(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function pe(t){return t()}function ie(){return Object.create(null)}function z(t){t.forEach(pe)}function he(t){return typeof t=="function"}function G(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Me(t){return Object.keys(t).length===0}function me(t,...e){if(t==null){for(const r of e)r(void 0);return f}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function se(t){let e;return me(t,n=>e=n)(),e}function Ie(t,e,n){t.$$.on_destroy.push(me(e,n))}function D(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function $(){return v(" ")}function ve(){return v("")}function ge(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function U(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ae(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.data!==e&&(t.data=e)}let F;function T(t){F=t}function qe(){if(!F)throw new Error("Function called outside component initialization");return F}const O=[],ae=[];let B=[];const ce=[],Ee=Promise.resolve();let ee=!1;function Ne(){ee||(ee=!0,Ee.then(oe))}function te(t){B.push(t)}const Z=new Set;let E=0;function oe(){if(E!==0)return;const t=F;do{try{for(;E<O.length;){const e=O[E];E++,T(e),Oe(e.$$)}}catch(e){throw O.length=0,E=0,e}for(T(null),O.length=0,E=0;ae.length;)ae.pop()();for(let e=0;e<B.length;e+=1){const n=B[e];Z.has(n)||(Z.add(n),n())}B.length=0}while(O.length);for(;ce.length;)ce.pop()();ee=!1,Z.clear(),T(t)}function Oe(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(te)}}function Le(t){const e=[],n=[];B.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),B=e}const H=new Set;let I;function we(){I={r:0,c:[],p:I}}function be(){I.r||z(I.c),I=I.p}function C(t,e){t&&t.i&&(H.delete(t),t.i(e))}function A(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),I.c.push(()=>{H.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ne(t,e){const n=e.token={};function r(o,i,s,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;s!==void 0&&(l=l.slice(),l[s]=a);const c=o&&(e.current=o)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,m)=>{m!==i&&d&&(we(),A(d,1,1,()=>{e.blocks[m]===d&&(e.blocks[m]=null)}),be())}):e.block.d(1),c.c(),C(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&oe()}if(Ce(t)){const o=qe();if(t.then(i=>{T(o),r(e.then,1,e.value,i),T(null)},i=>{if(T(o),r(e.catch,2,e.error,i),T(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function ye(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}function re(t){t&&t.c()}function W(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),te(()=>{const i=t.$$.on_mount.map(pe).filter(he);t.$$.on_destroy?t.$$.on_destroy.push(...i):z(i),t.$$.on_mount=[]}),o.forEach(te)}function V(t,e){const n=t.$$;n.fragment!==null&&(Le(n.after_update),z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Be(t,e){t.$$.dirty[0]===-1&&(O.push(t),Ne(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,r,o,i,s=null,a=[-1]){const l=F;T(t);const c=t.$$={fragment:null,ctx:[],props:i,update:f,not_equal:o,bound:ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ie(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,m,...R)=>{const k=R.length?R[0]:m;return c.ctx&&o(c.ctx[d],c.ctx[d]=k)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](k),u&&Be(t,d)),m}):[],c.update(),u=!0,z(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=Ae(e.target);c.fragment&&c.fragment.l(d),d.forEach(p)}else c.fragment&&c.fragment.c();e.intro&&C(t.$$.fragment),W(t,e.target,e.anchor),oe()}T(l)}class Y{constructor(){S(this,"$$");S(this,"$$set")}$destroy(){V(this,1),this.$destroy=f}$on(e,n){if(!he(n))return f;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Me(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pe);const Ue="http://localhost".replace(/\/+$/,"");class Se{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:Ue}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||ke}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return typeof e=="function"?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return typeof e=="function"?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const Fe=new Se,Q=class Q{constructor(e=Fe){S(this,"middleware");S(this,"fetchApi",async(e,n)=>{let r={url:e,init:n};for(const i of this.middleware)i.pre&&(r=await i.pre({fetch:this.fetchApi,...r})||r);let o;try{o=await(this.configuration.fetchApi||fetch)(r.url,r.init)}catch(i){for(const s of this.middleware)s.onError&&(o=await s.onError({fetch:this.fetchApi,url:r.url,init:r.init,error:i,response:o?o.clone():void 0})||o);if(o===void 0)throw i instanceof Error?new xe(i,"The request failed and the interceptors did not return an alternative response"):i}for(const i of this.middleware)i.post&&(o=await i.post({fetch:this.fetchApi,url:r.url,init:r.init,response:o.clone()})||o);return o});this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const n=this.clone();return n.middleware=n.middleware.concat(...e),n}withPreMiddleware(...e){const n=e.map(r=>({pre:r}));return this.withMiddleware(...n)}withPostMiddleware(...e){const n=e.map(r=>({post:r}));return this.withMiddleware(...n)}isJsonMime(e){return e?Q.jsonRegex.test(e):!1}async request(e,n){const{url:r,init:o}=await this.createFetchParams(e,n),i=await this.fetchApi(r,o);if(i&&i.status>=200&&i.status<300)return i;throw new Ge(i,"Response returned an error code")}async createFetchParams(e,n){let r=this.configuration.basePath+e.path;e.query!==void 0&&Object.keys(e.query).length!==0&&(r+="?"+this.configuration.queryParamsStringify(e.query));const o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(u=>o[u]===void 0?delete o[u]:{});const i=typeof n=="function"?n:async()=>n,s={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},a={...s,...await i({init:s,context:e})};let l;ze(a.body)||a.body instanceof URLSearchParams||Je(a.body)?l=a.body:this.isJsonMime(o["Content-Type"])?l=JSON.stringify(a.body):l=a.body;const c={...a,body:l};return{url:r,init:c}}clone(){const e=this.constructor,n=new e(this.configuration);return n.middleware=this.middleware.slice(),n}};S(Q,"jsonRegex",new RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i"));let J=Q;function Je(t){return typeof Blob<"u"&&t instanceof Blob}function ze(t){return typeof FormData<"u"&&t instanceof FormData}class Ge extends Error{constructor(n,r){super(r);S(this,"name","ResponseError");this.response=n}}class xe extends Error{constructor(n,r){super(r);S(this,"name","FetchError");this.cause=n}}class g extends Error{constructor(n,r){super(r);S(this,"name","RequiredError");this.field=n}}function ke(t,e=""){return Object.keys(t).map(n=>_e(n,t[n],e)).filter(n=>n.length>0).join("&")}function _e(t,e,n=""){const r=n+(n.length?`[${t}]`:t);if(e instanceof Array){const o=e.map(i=>encodeURIComponent(String(i))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${o}`}if(e instanceof Set){const o=Array.from(e);return _e(t,o,n)}return e instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(e.toISOString())}`:e instanceof Object?ke(e,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(e))}`}class _{constructor(e,n=r=>r){this.raw=e,this.transformer=n}async value(){return this.transformer(await this.raw.json())}}class P{constructor(e){this.raw=e}async value(){}}function Ke(t){return He(t)}function He(t,e){return t==null?t:{token:t.Token}}function We(t){return Ve(t)}function Ve(t,e){return t==null?t:{name:t.name,id:t.id,description:t.description,eventStart:t.eventStart,eventLength:t.eventLength}}function Qe(t){return Xe(t)}function Xe(t,e){return t==null?t:{id:t.id,name:t.name,url:t.url,event:We(t.event)}}function Ye(t){return Ze(t)}function Ze(t,e){return t==null?t:{guildID:t.GuildID,invite:t.Invite,guildName:t.GuildName}}function K(t){return je(t)}function je(t,e){return t==null?t:{bubbles:t.bubbles,drops:t.drops,sprites:t.sprites,scenes:t.scenes,flags:t.flags,rainbowSprites:t.rainbowSprites,discordID:t.discordID,userName:t.userName,userLogin:t.userLogin,guilds:t.guilds.map(Ye),rawMember:t.rawMember}}function et(t){return tt(t)}function tt(t,e){return t==null?t:{userName:t.userName,userLogin:t.userLogin,rawMember:t.rawMember}}function $e(t){return t==null?t:{slotId:t.slotId,spriteId:t.spriteId}}function nt(t){return t==null?t:{slots:t.slots.map($e)}}function ue(t){return rt(t)}function rt(t,e){return t==null?t:{name:t.name,id:t.id,cost:t.cost,url:t.url,eventDrop:t.eventDrop==null?void 0:Qe(t.eventDrop),isRainbowAllowed:t.isRainbowAllowed,isSpecial:t.isSpecial,artist:t.artist==null?void 0:t.artist,requiredFlags:t.requiredFlags}}function ot(t){return it(t)}function it(t,e){return t==null?t:{slot:t.slot,spriteId:t.spriteId,colorShift:t.colorShift}}function st(t){return at(t)}function at(t,e){return t==null?t:{unlockedSlots:t.unlockedSlots}}function ct(t){return t==null?t:{id:t.id}}class ut extends J{async getMemberSpriteInventoryRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling getMemberSpriteInventory().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/member/{login}/inventory/sprites".replace("{login}",encodeURIComponent(String(e.login))),method:"GET",headers:o,query:r},n);return new _(i,s=>s.map(ot))}async getMemberSpriteInventory(e,n){return await(await this.getMemberSpriteInventoryRaw(e,n)).value()}async getMemberSpriteSlotCountRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling getMemberSpriteSlotCount().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/member/{login}/inventory/sprites/slots".replace("{login}",encodeURIComponent(String(e.login))),method:"GET",headers:o,query:r},n);return new _(i,s=>st(s))}async getMemberSpriteSlotCount(e,n){return await(await this.getMemberSpriteSlotCountRaw(e,n)).value()}async setMemberSpriteComboRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling setMemberSpriteCombo().');if(e.spriteComboDto==null)throw new g("spriteComboDto",'Required parameter "spriteComboDto" was null or undefined when calling setMemberSpriteCombo().');const r={},o={};if(o["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/member/{login}/inventory/sprites/combo".replace("{login}",encodeURIComponent(String(e.login))),method:"PATCH",headers:o,query:r,body:nt(e.spriteComboDto)},n);return new P(i)}async setMemberSpriteCombo(e,n){await this.setMemberSpriteComboRaw(e,n)}async setMemberSpriteSlotRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling setMemberSpriteSlot().');if(e.spriteSlotDto==null)throw new g("spriteSlotDto",'Required parameter "spriteSlotDto" was null or undefined when calling setMemberSpriteSlot().');const r={},o={};if(o["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/member/{login}/inventory/sprites/slot".replace("{login}",encodeURIComponent(String(e.login))),method:"PATCH",headers:o,query:r,body:$e(e.spriteSlotDto)},n);return new P(i)}async setMemberSpriteSlot(e,n){await this.setMemberSpriteSlotRaw(e,n)}}class lt extends J{async clearMemberDropboostRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling clearMemberDropboost().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/{login}/dropboost".replace("{login}",encodeURIComponent(String(e.login))),method:"DELETE",headers:o,query:r},n);return new P(i)}async clearMemberDropboost(e,n){await this.clearMemberDropboostRaw(e,n)}async connectMemberToGuildRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling connectMemberToGuild().');if(e.token==null)throw new g("token",'Required parameter "token" was null or undefined when calling connectMemberToGuild().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/{login}/guilds/{token}".replace("{login}",encodeURIComponent(String(e.login))).replace("{token}",encodeURIComponent(String(e.token))),method:"PATCH",headers:o,query:r},n);return new P(i)}async connectMemberToGuild(e,n){await this.connectMemberToGuildRaw(e,n)}async findMembersWildcardSearchRaw(e,n){if(e.content==null)throw new g("content",'Required parameter "content" was null or undefined when calling findMembersWildcardSearch().');const r={};e.content!=null&&(r.content=e.content);const o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/search",method:"GET",headers:o,query:r},n);return new _(i,s=>s.map(et))}async findMembersWildcardSearch(e,n){return await(await this.findMembersWildcardSearchRaw(e,n)).value()}async getAuthenticatedMemberRaw(e){const n={},r={};if(this.configuration&&this.configuration.accessToken){const i=this.configuration.accessToken,s=await i("bearer",[]);s&&(r.Authorization=`Bearer ${s}`)}const o=await this.request({path:"/members/me",method:"GET",headers:r,query:n},e);return new _(o,i=>K(i))}async getAuthenticatedMember(e){return await(await this.getAuthenticatedMemberRaw(e)).value()}async getMemberAccessTokenRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling getMemberAccessToken().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/{login}/token".replace("{login}",encodeURIComponent(String(e.login))),method:"GET",headers:o,query:r},n);return new _(i,s=>Ke(s))}async getMemberAccessToken(e,n){return await(await this.getMemberAccessTokenRaw(e,n)).value()}async getMemberByDiscordIDRaw(e,n){if(e.id==null)throw new g("id",'Required parameter "id" was null or undefined when calling getMemberByDiscordID().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/discord/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:o,query:r},n);return new _(i,s=>K(s))}async getMemberByDiscordID(e,n){return await(await this.getMemberByDiscordIDRaw(e,n)).value()}async getMemberByLoginRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling getMemberByLogin().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/{login}".replace("{login}",encodeURIComponent(String(e.login))),method:"GET",headers:o,query:r},n);return new _(i,s=>K(s))}async getMemberByLogin(e,n){return await(await this.getMemberByLoginRaw(e,n)).value()}async removeConnectedGuildRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling removeConnectedGuild().');if(e.token==null)throw new g("token",'Required parameter "token" was null or undefined when calling removeConnectedGuild().');const r={},o={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/{login}/guilds/{token}".replace("{login}",encodeURIComponent(String(e.login))).replace("{token}",encodeURIComponent(String(e.token))),method:"DELETE",headers:o,query:r},n);return new P(i)}async removeConnectedGuild(e,n){await this.removeConnectedGuildRaw(e,n)}async updateMemberDiscordIDRaw(e,n){if(e.login==null)throw new g("login",'Required parameter "login" was null or undefined when calling updateMemberDiscordID().');if(e.updateDiscordID==null)throw new g("updateDiscordID",'Required parameter "updateDiscordID" was null or undefined when calling updateMemberDiscordID().');const r={},o={};if(o["Content-Type"]="application/json",this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,a=await s("bearer",[]);a&&(o.Authorization=`Bearer ${a}`)}const i=await this.request({path:"/members/{login}/discord".replace("{login}",encodeURIComponent(String(e.login))),method:"PATCH",headers:o,query:r,body:ct(e.updateDiscordID)},n);return new _(i,s=>K(s))}async updateMemberDiscordID(e,n){return await(await this.updateMemberDiscordIDRaw(e,n)).value()}}class dt extends J{async getAllSpritesRaw(e){const n={},r={},o=await this.request({path:"/sprites",method:"GET",headers:r,query:n},e);return new _(o,i=>i.map(ue))}async getAllSprites(e){return await(await this.getAllSpritesRaw(e)).value()}async getSpriteByIdRaw(e,n){if(e.id==null)throw new g("id",'Required parameter "id" was null or undefined when calling getSpriteById().');const r={},o={},i=await this.request({path:"/sprites/{id}".replace("{id}",encodeURIComponent(String(e.id))),method:"GET",headers:o,query:r},n);return new _(i,s=>ue(s))}async getSpriteById(e,n){return await(await this.getSpriteByIdRaw(e,n)).value()}}const N=[];function le(t,e=f){let n;const r=new Set;function o(a){if(G(t,a)&&(t=a,n)){const l=!N.length;for(const c of r)c[1](),N.push(c,t);if(l){for(let c=0;c<N.length;c+=2)N[c][0](N[c+1]);N.length=0}}}function i(a){o(a(t))}function s(a,l=f){const c=[a,l];return r.add(c),r.size===1&&(n=e(o,i)||f),a(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:s}}const L=class L{static createApiConfig(){return new Se({basePath:se(this.baseUrl),accessToken:(e,n)=>se(this.authToken)??""})}static createApi(e){return new e(this.createApiConfig())}};S(L,"baseUrl",le()),S(L,"authToken",le(sessionStorage.getItem("typoAccessToken")??void 0)),S(L,"unsubscriber",L.authToken.subscribe(e=>e?sessionStorage.setItem("typoAccessToken",e):sessionStorage.removeItem("typoAccessToken")));let M=L;function ft(t){let e,n,r,o;return{c(){e=w("div"),n=w("input"),U(n,"type","button"),n.value="Log in with Typo",U(e,"class","svelte-zu5d7a")},m(i,s){h(i,e,s),D(e,n),r||(o=ge(n,"click",t[0]),r=!0)},p:f,i:f,o:f,d(i){i&&p(e),r=!1,o()}}}function pt(t){const e=()=>{window.addEventListener("message",async r=>{if(!r.data||!r.data.accessToken||r.data.accessToken=="")e();else{const o=r.data.accessToken;console.log("Logged in with token: ",o),M.authToken.set(o)}},{once:!0})};return[()=>{e(),window.open("https://www.typo.rip/auth/","Log in to Palantir","height=650,width=500,right=0,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes")}]}class ht extends Y{constructor(e){super(),X(this,e,pt,ft,G,{})}}function mt(t){let e,n,r,o=t[0].userName+"",i;return{c(){e=w("div"),n=v("Logged in as "),r=w("b"),i=v(o)},m(s,a){h(s,e,a),D(e,n),D(e,r),D(r,i)},p(s,[a]){a&1&&o!==(o=s[0].userName+"")&&j(i,o)},i:f,o:f,d(s){s&&p(e)}}}function gt(t,e,n){let{member:r}=e;return t.$$set=o=>{"member"in o&&n(0,r=o.member)},[r]}class wt extends Y{constructor(e){super(),X(this,e,gt,mt,G,{member:0})}}function de(t){t[7]=t[10][0],t[8]=t[10][1],t[9]=t[10][2]}function bt(t){return{c:f,m:f,p:f,d:f}}function yt(t){de(t);let e,n,r,o=t[9].unlockedSlots+"",i,s,a,l,c=fe(t[8],t[7]).join(", ")+"",u,d,m,R,k,q,x;function Te(){return t[3](t[9],t[8])}return{c(){e=w("h3"),e.textContent="Current Combo:",n=$(),r=w("b"),i=v(o),s=v(" Slots unlocked"),a=$(),l=w("span"),u=v(c),d=$(),m=w("br"),R=$(),k=w("input"),U(k,"type","button"),k.value="Randomize Slots"},m(b,y){h(b,e,y),h(b,n,y),h(b,r,y),D(r,i),D(r,s),h(b,a,y),h(b,l,y),D(l,u),h(b,d,y),h(b,m,y),h(b,R,y),h(b,k,y),q||(x=ge(k,"click",Te),q=!0)},p(b,y){t=b,de(t),y&1&&o!==(o=t[9].unlockedSlots+"")&&j(i,o),y&1&&c!==(c=fe(t[8],t[7]).join(", ")+"")&&j(u,c)},d(b){b&&(p(e),p(n),p(r),p(a),p(l),p(d),p(m),p(R),p(k)),q=!1,x()}}}function St(t){let e,n,r,o,i,s,a,l,c;return{c(){e=w("h3"),e.textContent="Current Combo:",n=$(),r=w("b"),r.textContent="Slots loading...",o=$(),i=w("span"),i.textContent="Combo loading...",s=$(),a=w("br"),l=$(),c=w("input"),U(c,"type","button"),c.disabled=!0,c.value="Randomize Slots"},m(u,d){h(u,e,d),h(u,n,d),h(u,r,d),h(u,o,d),h(u,i,d),h(u,s,d),h(u,a,d),h(u,l,d),h(u,c,d)},p:f,d(u){u&&(p(e),p(n),p(r),p(o),p(i),p(s),p(a),p(l),p(c))}}}function kt(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:St,then:yt,catch:bt,value:10};return ne(n=t[0],r),{c(){e=w("div"),r.block.c(),U(e,"class","svelte-1rgk09o")},m(o,i){h(o,e,i),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null},p(o,[i]){t=o,r.ctx=t,i&1&&n!==(n=t[0])&&ne(n,r)||ye(r,t,i)},i:f,o:f,d(o){o&&p(e),r.block.d(),r.token=null,r=null}}}function fe(t,e){return t.filter(n=>n.slot!==void 0).sort((n,r)=>n.slot-r.slot).map(n=>{const r=e.find(o=>o.id===n.spriteId);return r?r.name:"Unknown"})}function _t(t,e,n){let{member:r}=e;const o=M.createApi(dt),i=M.createApi(ut);function s(){return Promise.all([o.getAllSprites(),i.getMemberSpriteInventory({login:Number(r.userLogin)}),i.getMemberSpriteSlotCount({login:Number(r.userLogin)})])}async function a(u,d){u>10&&(u=10);const m=[];let R=1;for(;m.length<u&&m.length<d.length;){const k=Math.floor(Math.random()*d.length),q=d[k];m.some(x=>x.spriteId===q.spriteId)||m.push({slotId:R++,spriteId:q.spriteId})}await i.setMemberSpriteCombo({login:Number(r.userLogin),spriteComboDto:{slots:m}}),n(0,l=s())}let l=s();const c=(u,d)=>a(u.unlockedSlots,d);return t.$$set=u=>{"member"in u&&n(2,r=u.member)},[l,a,r,c]}class $t extends Y{constructor(e){super(),X(this,e,_t,kt,G,{member:2})}}function Tt(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Mt,then:Ct,catch:Rt,value:3,blocks:[,,,]};return ne(t[1].getAuthenticatedMember(),r),{c(){e=ve(),r.block.c()},m(o,i){h(o,e,i),r.block.m(o,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(o,i){t=o,ye(r,t,i)},i(o){n||(C(r.block),n=!0)},o(o){for(let i=0;i<3;i+=1){const s=r.blocks[i];A(s)}n=!1},d(o){o&&p(e),r.block.d(o),r.token=null,r=null}}}function Dt(t){let e,n;return e=new ht({}),{c(){re(e.$$.fragment)},m(r,o){W(e,r,o),n=!0},p:f,i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){A(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Rt(t){return{c:f,m:f,p:f,i:f,o:f,d:f}}function Ct(t){let e,n,r,o;return e=new wt({props:{member:t[3]}}),r=new $t({props:{member:t[3]}}),{c(){re(e.$$.fragment),n=$(),re(r.$$.fragment)},m(i,s){W(e,i,s),h(i,n,s),W(r,i,s),o=!0},p:f,i(i){o||(C(e.$$.fragment,i),C(r.$$.fragment,i),o=!0)},o(i){A(e.$$.fragment,i),A(r.$$.fragment,i),o=!1},d(i){i&&p(n),V(e,i),V(r,i)}}}function Mt(t){let e;return{c(){e=w("span"),e.textContent="Loading member..."},m(n,r){h(n,e,r)},p:f,i:f,o:f,d(n){n&&p(e)}}}function It(t){let e,n,r,o,i,s;const a=[Dt,Tt],l=[];function c(u,d){return u[0]===void 0?0:1}return o=c(t),i=l[o]=a[o](t),{c(){e=w("main"),n=w("h1"),n.textContent="Typo Combo Randomizer",r=$(),i.c()},m(u,d){h(u,e,d),D(e,n),D(e,r),l[o].m(e,null),s=!0},p(u,[d]){let m=o;o=c(u),o===m?l[o].p(u,d):(we(),A(l[m],1,1,()=>{l[m]=null}),be(),i=l[o],i?i.p(u,d):(i=l[o]=a[o](u),i.c()),C(i,1),i.m(e,null))},i(u){s||(C(i),s=!0)},o(u){A(i),s=!1},d(u){u&&p(e),l[o].d()}}}function vt(t,e,n){let r;const o=M.createApi(lt),i=M.authToken;return Ie(t,i,s=>n(0,r=s)),[r,o,i]}class At extends Y{constructor(e){super(),X(this,e,vt,It,G,{})}}M.baseUrl.set("https://api.typo.rip");new At({target:document.getElementById("app")});
